mean_less_than_primary_completed = "Less than Primary Completed",
mean_primary_completed = "Primary Completed",
mean_secondary_completed = "Secondary Completed",
mean_university_completed = "University Completed"
))
}
table_for_race <- us_df %>%
group_by(race_native_category) %>%
summarise(
mean_age = weighted.mean(age, perwt, na.rm = TRUE),
mean_married_cohab = weighted.mean(married_cohab, perwt, na.rm = TRUE),
mean_english_speaker = weighted.mean(english_speaker, perwt, na.rm = TRUE),
mean_is_citizen = weighted.mean(is_citizen, perwt, na.rm = TRUE),
mean_age_at_immigration = weighted.mean(age_at_immigration, perwt, na.rm = TRUE),
mean_years_in_us = weighted.mean(years_in_us, perwt, na.rm = TRUE),
mean_less_than_primary_completed = weighted.mean(less_than_primary_completed, perwt, na.rm = TRUE),
mean_primary_completed = weighted.mean(primary_completed, perwt, na.rm = TRUE),
mean_secondary_completed = weighted.mean(secondary_completed, perwt, na.rm = TRUE),
mean_university_completed = weighted.mean(university_completed, perwt, na.rm = TRUE)
) %>%
pivot_longer(cols = -race_native_category, names_to = "variable", values_to = "value") %>%
pivot_wider(names_from = race_native_category, values_from = value) %>%
mutate(variable = recode(variable,
mean_age = "Age",
mean_married_cohab = "Married/Cohabiting",
mean_english_speaker = "English Speakers",
mean_is_citizen = "Citizen",
mean_age_at_immigration = "Age at Immigration",
mean_years_in_us = "Years in US",
mean_less_than_primary_completed = "Less than Primary Completed",
mean_primary_completed = "Primary Completed",
mean_secondary_completed = "Secondary Completed",
mean_university_completed = "University Completed"
))
table_for_race
variable_labels <- c(
mean_age = "Age",
mean_married_cohab = "Married/Cohabiting",
mean_english_speaker = "English Speakers",
mean_is_citizen = "Citizen",
mean_age_at_immigration = "Age at Immigration",
mean_years_in_us = "Years in US",
mean_less_than_primary_completed = "Less than Primary Completed",
mean_primary_completed = "Primary Completed",
mean_secondary_completed = "Secondary Completed",
mean_university_completed = "University Completed"
)
create_table_for_race <- function(sex_value) {
us_df %>%
filter(sex == sex_value) %>%
group_by(race_native_category) %>%
summarise(
mean_age = weighted.mean(age, perwt, na.rm = TRUE),
mean_married_cohab = weighted.mean(married_cohab, perwt, na.rm = TRUE),
mean_english_speaker = weighted.mean(english_speaker, perwt, na.rm = TRUE),
mean_is_citizen = weighted.mean(is_citizen, perwt, na.rm = TRUE),
mean_age_at_immigration = weighted.mean(age_at_immigration, perwt, na.rm = TRUE),
mean_years_in_us = weighted.mean(years_in_us, perwt, na.rm = TRUE),
mean_less_than_primary_completed = weighted.mean(less_than_primary_completed, perwt, na.rm = TRUE),
mean_primary_completed = weighted.mean(primary_completed, perwt, na.rm = TRUE),
mean_secondary_completed = weighted.mean(secondary_completed, perwt, na.rm = TRUE),
mean_university_completed = weighted.mean(university_completed, perwt, na.rm = TRUE)
) %>%
pivot_longer(cols = -race_native_category, names_to = "variable", values_to = "value") %>%
pivot_wider(names_from = race_native_category, values_from = value) %>%
mutate(variable = variable %>%
recode(!!!variable_labels))
}
table_sex_1 <- create_table_for_race(1)
table_sex_2 <- create_table_for_race(2)
combined_table <- bind_rows(
table_sex_2, #females first
table_sex_1 #males second
)
combined_table
variable_labels <- c(
mean_age = "Age",
mean_married_cohab = "Married/Cohabiting",
mean_english_speaker = "English Speakers",
mean_is_citizen = "Citizen",
mean_age_at_immigration = "Age at Immigration",
mean_years_in_us = "Years in US",
mean_less_than_primary_completed = "Less than Primary Completed",
mean_primary_completed = "Primary Completed",
mean_secondary_completed = "Secondary Completed",
mean_university_completed = "University Completed"
)
create_table_for_race <- function(sex_value) {
us_df %>%
filter(sex == sex_value) %>%
group_by(race_native_category) %>%
summarise(
mean_age = weighted.mean(age, perwt, na.rm = TRUE),
mean_married_cohab = weighted.mean(married_cohab, perwt, na.rm = TRUE),
mean_english_speaker = weighted.mean(english_speaker, perwt, na.rm = TRUE),
mean_is_citizen = weighted.mean(is_citizen, perwt, na.rm = TRUE),
mean_age_at_immigration = weighted.mean(age_at_immigration, perwt, na.rm = TRUE),
mean_years_in_us = weighted.mean(years_in_us, perwt, na.rm = TRUE),
mean_less_than_primary_completed = weighted.mean(less_than_primary_completed, perwt, na.rm = TRUE),
mean_primary_completed = weighted.mean(primary_completed, perwt, na.rm = TRUE),
mean_secondary_completed = weighted.mean(secondary_completed, perwt, na.rm = TRUE),
mean_university_completed = weighted.mean(university_completed, perwt, na.rm = TRUE)
) %>%
pivot_longer(cols = -race_native_category, names_to = "variable", values_to = "value") %>%
pivot_wider(names_from = race_native_category, values_from = value) %>%
mutate(variable = variable %>%
recode(!!!variable_labels))
}
table_sex_1 <- create_table_for_race(1)
table_sex_2 <- create_table_for_race(2)
combined_table <- bind_rows(
table_sex_2, #females first
table_sex_1 #males second
)
combined_table <- combined_table %>%
mutate(across(where(is.numeric), round, digits = 2)) %>%
mutate(across(everything(), ~ as.character(.))) %>%
mutate(across(everything(), ~ ifelse(. == "NaN", "-", .))) %>%
mutate(across(everything(), ~ ifelse(. == "0", "-", .))) %>%
mutate(Gender = ifelse(row_number() == 1, "Women",
ifelse(row_number() == 11, "Men", ""))) %>%
select(Gender, everything()) %>%
rename(Demographics = variable)
print(combined_table)
variable_labels <- c(
mean_age = "Age",
mean_married_cohab = "Married/Cohabiting",
mean_english_speaker = "English Speakers",
mean_is_citizen = "Citizen",
mean_age_at_immigration = "Age at Immigration",
mean_years_in_us = "Years in US",
mean_less_than_primary_completed = "Less than Primary Completed",
mean_primary_completed = "Primary Completed",
mean_secondary_completed = "Secondary Completed",
mean_university_completed = "University Completed"
)
create_table_for_race <- function(sex_value) {
us_df %>%
filter(sex == sex_value) %>%
group_by(race_native_category) %>%
summarise(
mean_age = weighted.mean(age, perwt, na.rm = TRUE),
mean_married_cohab = weighted.mean(married_cohab, perwt, na.rm = TRUE),
mean_english_speaker = weighted.mean(english_speaker, perwt, na.rm = TRUE),
mean_is_citizen = weighted.mean(is_citizen, perwt, na.rm = TRUE),
mean_age_at_immigration = weighted.mean(age_at_immigration, perwt, na.rm = TRUE),
mean_years_in_us = weighted.mean(years_in_us, perwt, na.rm = TRUE),
mean_less_than_primary_completed = weighted.mean(less_than_primary_completed, perwt, na.rm = TRUE),
mean_primary_completed = weighted.mean(primary_completed, perwt, na.rm = TRUE),
mean_secondary_completed = weighted.mean(secondary_completed, perwt, na.rm = TRUE),
mean_university_completed = weighted.mean(university_completed, perwt, na.rm = TRUE)
) %>%
pivot_longer(cols = -race_native_category, names_to = "variable", values_to = "value") %>%
pivot_wider(names_from = race_native_category, values_from = value) %>%
mutate(variable = variable %>%
recode(!!!variable_labels))
}
table_sex_1 <- create_table_for_race(1)
table_sex_2 <- create_table_for_race(2)
combined_table <- bind_rows(
table_sex_2, #females first
table_sex_1 #males second
)
combined_table <- combined_table %>%
mutate(across(where(is.numeric), round, digits = 2)) %>%
mutate(across(everything(), ~ as.character(.))) %>%
mutate(across(everything(), ~ ifelse(. == "NaN", "-", .))) %>%
mutate(across(everything(), ~ ifelse(. == "0", "-", .))) %>%
mutate(Gender = ifelse(row_number() == 1, "Women",
ifelse(row_number() == 11, "Men", ""))) %>%
select(Gender, everything()) %>%
rename(Demographics = variable)
print(combined_table)
table3_code <- xtable(combined_table, caption = "Summary Statistics by Country and Sex",
align = "ll|l|lllllllll",
label = "table3")
table3_code <- xtable(combined_table, caption = "Summary Statistics by Country and Sex",
align = "ll|l|llllllll",
label = "table3")
variable_labels <- c(
mean_age = "Age",
mean_married_cohab = "Married/Cohabiting",
mean_english_speaker = "English Speakers",
mean_is_citizen = "Citizen",
mean_age_at_immigration = "Age at Immigration",
mean_years_in_us = "Years in US",
mean_less_than_primary_completed = "Less than Primary Completed",
mean_primary_completed = "Primary Completed",
mean_secondary_completed = "Secondary Completed",
mean_university_completed = "University Completed"
)
create_table_for_race <- function(sex_value) {
us_df %>%
filter(sex == sex_value) %>%
group_by(race_native_category) %>%
summarise(
mean_age = weighted.mean(age, perwt, na.rm = TRUE),
mean_married_cohab = weighted.mean(married_cohab, perwt, na.rm = TRUE),
mean_english_speaker = weighted.mean(english_speaker, perwt, na.rm = TRUE),
mean_is_citizen = weighted.mean(is_citizen, perwt, na.rm = TRUE),
mean_age_at_immigration = weighted.mean(age_at_immigration, perwt, na.rm = TRUE),
mean_years_in_us = weighted.mean(years_in_us, perwt, na.rm = TRUE),
mean_less_than_primary_completed = weighted.mean(less_than_primary_completed, perwt, na.rm = TRUE),
mean_primary_completed = weighted.mean(primary_completed, perwt, na.rm = TRUE),
mean_secondary_completed = weighted.mean(secondary_completed, perwt, na.rm = TRUE),
mean_university_completed = weighted.mean(university_completed, perwt, na.rm = TRUE)
) %>%
pivot_longer(cols = -race_native_category, names_to = "variable", values_to = "value") %>%
pivot_wider(names_from = race_native_category, values_from = value) %>%
mutate(variable = variable %>%
recode(!!!variable_labels))
}
table_sex_1 <- create_table_for_race(1)
table_sex_2 <- create_table_for_race(2)
combined_table <- bind_rows(
table_sex_2, #females first
table_sex_1 #males second
)
combined_table <- combined_table %>%
mutate(across(where(is.numeric), round, digits = 2)) %>%
mutate(across(everything(), ~ as.character(.))) %>%
mutate(across(everything(), ~ ifelse(. == "NaN", "-", .))) %>%
mutate(across(everything(), ~ ifelse(. == "0", "-", .))) %>%
mutate(Gender = ifelse(row_number() == 1, "Women",
ifelse(row_number() == 11, "Men", ""))) %>%
select(Gender, everything()) %>%
rename(Demographics = variable)
print(combined_table)
table3_code <- xtable(combined_table, caption = "Summary Statistics by Country and Sex",
align = "ll|l|llllllll",
label = "table3")
sink("/Users/chrissoria/Documents/Research/us_international_ses/tables/r_tables/table3.tex")
print(table2_code, type = "latex",
caption.placement = "top",
size = "\\small",
include.rownames = FALSE)
sink()
variable_labels <- c(
mean_age = "Age",
mean_married_cohab = "Married/Cohabiting",
mean_english_speaker = "English Speakers",
mean_is_citizen = "Citizen",
mean_age_at_immigration = "Age at Immigration",
mean_years_in_us = "Years in US",
mean_less_than_primary_completed = "Less than Primary Completed",
mean_primary_completed = "Primary Completed",
mean_secondary_completed = "Secondary Completed",
mean_university_completed = "University Completed"
)
create_table_for_race <- function(sex_value) {
us_df %>%
filter(sex == sex_value) %>%
group_by(race_native_category) %>%
summarise(
mean_age = weighted.mean(age, perwt, na.rm = TRUE),
mean_married_cohab = weighted.mean(married_cohab, perwt, na.rm = TRUE),
mean_english_speaker = weighted.mean(english_speaker, perwt, na.rm = TRUE),
mean_is_citizen = weighted.mean(is_citizen, perwt, na.rm = TRUE),
mean_age_at_immigration = weighted.mean(age_at_immigration, perwt, na.rm = TRUE),
mean_years_in_us = weighted.mean(years_in_us, perwt, na.rm = TRUE),
mean_less_than_primary_completed = weighted.mean(less_than_primary_completed, perwt, na.rm = TRUE),
mean_primary_completed = weighted.mean(primary_completed, perwt, na.rm = TRUE),
mean_secondary_completed = weighted.mean(secondary_completed, perwt, na.rm = TRUE),
mean_university_completed = weighted.mean(university_completed, perwt, na.rm = TRUE)
) %>%
pivot_longer(cols = -race_native_category, names_to = "variable", values_to = "value") %>%
pivot_wider(names_from = race_native_category, values_from = value) %>%
mutate(variable = variable %>%
recode(!!!variable_labels))
}
table_sex_1 <- create_table_for_race(1)
table_sex_2 <- create_table_for_race(2)
combined_table <- bind_rows(
table_sex_2, #females first
table_sex_1 #males second
)
combined_table <- combined_table %>%
mutate(across(where(is.numeric), round, digits = 2)) %>%
mutate(across(everything(), ~ as.character(.))) %>%
mutate(across(everything(), ~ ifelse(. == "NaN", "-", .))) %>%
mutate(across(everything(), ~ ifelse(. == "0", "-", .))) %>%
mutate(Gender = ifelse(row_number() == 1, "Women",
ifelse(row_number() == 11, "Men", ""))) %>%
select(Gender, everything()) %>%
rename(Demographics = variable)
print(combined_table)
table3_code <- xtable(combined_table, caption = "Summary Statistics by Country and Sex",
align = "ll|l|llllllll",
label = "table3")
sink("/Users/chrissoria/Documents/Research/us_international_ses/tables/r_tables/table3.tex")
print(table3_code, type = "latex",
caption.placement = "top",
size = "\\small",
include.rownames = FALSE)
sink()
variable_labels <- c(
mean_age = "Age",
mean_married_cohab = "Married/Cohabiting",
mean_english_speaker = "English Speakers",
mean_is_citizen = "Citizen",
mean_age_at_immigration = "Age at Immigration",
mean_years_in_us = "Years in US",
mean_less_than_primary_completed = "Less than Primary Completed",
mean_primary_completed = "Primary Completed",
mean_secondary_completed = "Secondary Completed",
mean_university_completed = "University Completed"
)
create_table_for_race <- function(sex_value) {
us_df %>%
filter(sex == sex_value) %>%
group_by(race_native_category) %>%
summarise(
mean_age = weighted.mean(age, perwt, na.rm = TRUE),
mean_married_cohab = weighted.mean(married_cohab, perwt, na.rm = TRUE),
mean_english_speaker = weighted.mean(english_speaker, perwt, na.rm = TRUE),
mean_is_citizen = weighted.mean(is_citizen, perwt, na.rm = TRUE),
mean_age_at_immigration = weighted.mean(age_at_immigration, perwt, na.rm = TRUE),
mean_years_in_us = weighted.mean(years_in_us, perwt, na.rm = TRUE),
mean_less_than_primary_completed = weighted.mean(less_than_primary_completed, perwt, na.rm = TRUE),
mean_primary_completed = weighted.mean(primary_completed, perwt, na.rm = TRUE),
mean_secondary_completed = weighted.mean(secondary_completed, perwt, na.rm = TRUE),
mean_university_completed = weighted.mean(university_completed, perwt, na.rm = TRUE)
) %>%
pivot_longer(cols = -race_native_category, names_to = "variable", values_to = "value") %>%
pivot_wider(names_from = race_native_category, values_from = value) %>%
mutate(variable = variable %>%
recode(!!!variable_labels))
}
table_sex_1 <- create_table_for_race(1)
table_sex_2 <- create_table_for_race(2)
combined_table <- bind_rows(
table_sex_2, #females first
table_sex_1 #males second
)
combined_table <- combined_table %>%
mutate(across(where(is.numeric), round, digits = 2)) %>%
mutate(across(everything(), ~ as.character(.))) %>%
mutate(across(everything(), ~ ifelse(. == "NaN", "-", .))) %>%
mutate(across(everything(), ~ ifelse(. == "0", "-", .))) %>%
mutate(Gender = ifelse(row_number() == 1, "Women",
ifelse(row_number() == 11, "Men", ""))) %>%
select(Gender, everything()) %>%
rename(Demographics = variable)
print(combined_table)
table3_code <- xtable(combined_table, caption = "Summary Statistics by Country and Sex",
align = "l|l|p{1.5cm}p{1.5cm}p{1.5cm}p{1.5cm}p{1.5cm}p{1.5cm}p{1.5cm}p{1cm}",
label = "table3")
table3_code <- xtable(combined_table, caption = "Summary Statistics by Country and Sex",
align = "ll|l|p{1.5cm}p{1.5cm}p{1.5cm}p{1.5cm}p{1.5cm}p{1.5cm}p{1.5cm}p{1cm}",
label = "table3")
sink("/Users/chrissoria/Documents/Research/us_international_ses/tables/r_tables/table3.tex")
print(table3_code, type = "latex",
caption.placement = "top",
size = "\\small",
include.rownames = FALSE)
sink()
variable_labels <- c(
mean_age = "Age",
mean_married_cohab = "Married/Cohabiting",
mean_english_speaker = "English Speakers",
mean_is_citizen = "Citizen",
mean_age_at_immigration = "Age at Immigration",
mean_years_in_us = "Years in US",
mean_less_than_primary_completed = "Less than Primary Completed",
mean_primary_completed = "Primary Completed",
mean_secondary_completed = "Secondary Completed",
mean_university_completed = "University Completed"
)
create_table_for_race <- function(sex_value) {
us_df %>%
filter(sex == sex_value) %>%
filter(!is.na(race_native_category))
group_by(race_native_category) %>%
summarise(
mean_age = weighted.mean(age, perwt, na.rm = TRUE),
mean_married_cohab = weighted.mean(married_cohab, perwt, na.rm = TRUE),
mean_english_speaker = weighted.mean(english_speaker, perwt, na.rm = TRUE),
mean_is_citizen = weighted.mean(is_citizen, perwt, na.rm = TRUE),
mean_age_at_immigration = weighted.mean(age_at_immigration, perwt, na.rm = TRUE),
mean_years_in_us = weighted.mean(years_in_us, perwt, na.rm = TRUE),
mean_less_than_primary_completed = weighted.mean(less_than_primary_completed, perwt, na.rm = TRUE),
mean_primary_completed = weighted.mean(primary_completed, perwt, na.rm = TRUE),
mean_secondary_completed = weighted.mean(secondary_completed, perwt, na.rm = TRUE),
mean_university_completed = weighted.mean(university_completed, perwt, na.rm = TRUE)
) %>%
pivot_longer(cols = -race_native_category, names_to = "variable", values_to = "value") %>%
pivot_wider(names_from = race_native_category, values_from = value) %>%
mutate(variable = variable %>%
recode(!!!variable_labels))
}
table_sex_1 <- create_table_for_race(1)
variable_labels <- c(
mean_age = "Age",
mean_married_cohab = "Married/Cohabiting",
mean_english_speaker = "English Speakers",
mean_is_citizen = "Citizen",
mean_age_at_immigration = "Age at Immigration",
mean_years_in_us = "Years in US",
mean_less_than_primary_completed = "Less than Primary Completed",
mean_primary_completed = "Primary Completed",
mean_secondary_completed = "Secondary Completed",
mean_university_completed = "University Completed"
)
create_table_for_race <- function(sex_value) {
us_df %>%
filter(sex == sex_value) %>%
filter(!is.na(race_native_category)) %>%
group_by(race_native_category) %>%
summarise(
mean_age = weighted.mean(age, perwt, na.rm = TRUE),
mean_married_cohab = weighted.mean(married_cohab, perwt, na.rm = TRUE),
mean_english_speaker = weighted.mean(english_speaker, perwt, na.rm = TRUE),
mean_is_citizen = weighted.mean(is_citizen, perwt, na.rm = TRUE),
mean_age_at_immigration = weighted.mean(age_at_immigration, perwt, na.rm = TRUE),
mean_years_in_us = weighted.mean(years_in_us, perwt, na.rm = TRUE),
mean_less_than_primary_completed = weighted.mean(less_than_primary_completed, perwt, na.rm = TRUE),
mean_primary_completed = weighted.mean(primary_completed, perwt, na.rm = TRUE),
mean_secondary_completed = weighted.mean(secondary_completed, perwt, na.rm = TRUE),
mean_university_completed = weighted.mean(university_completed, perwt, na.rm = TRUE)
) %>%
pivot_longer(cols = -race_native_category, names_to = "variable", values_to = "value") %>%
pivot_wider(names_from = race_native_category, values_from = value) %>%
mutate(variable = variable %>%
recode(!!!variable_labels))
}
table_sex_1 <- create_table_for_race(1)
table_sex_2 <- create_table_for_race(2)
combined_table <- bind_rows(
table_sex_2, #females first
table_sex_1 #males second
)
combined_table <- combined_table %>%
mutate(across(where(is.numeric), round, digits = 2)) %>%
mutate(across(everything(), ~ as.character(.))) %>%
mutate(across(everything(), ~ ifelse(. == "NaN", "-", .))) %>%
mutate(across(everything(), ~ ifelse(. == "0", "-", .))) %>%
mutate(Gender = ifelse(row_number() == 1, "Women",
ifelse(row_number() == 11, "Men", ""))) %>%
select(Gender, everything()) %>%
rename(Demographics = variable)
print(combined_table)
table3_code <- xtable(combined_table, caption = "Summary Statistics by Country and Sex",
align = "ll|l|p{1.5cm}p{1.5cm}p{1.5cm}p{1.5cm}p{1.5cm}p{1.5cm}p{1.5cm}",
label = "table3")
sink("/Users/chrissoria/Documents/Research/us_international_ses/tables/r_tables/table3.tex")
print(table3_code, type = "latex",
caption.placement = "top",
size = "\\small",
include.rownames = FALSE)
sink()
variable_labels <- c(
mean_age = "Age",
mean_married_cohab = "Married/Cohabiting",
mean_english_speaker = "English Speakers",
mean_is_citizen = "Citizen",
mean_age_at_immigration = "Age at Immigration",
mean_years_in_us = "Years in US",
mean_less_than_primary_completed = "Less than Primary Completed",
mean_primary_completed = "Primary Completed",
mean_secondary_completed = "Secondary Completed",
mean_university_completed = "University Completed"
)
create_table_for_race <- function(sex_value) {
us_df %>%
filter(sex == sex_value) %>%
filter(!is.na(race_native_category)) %>%
group_by(race_native_category) %>%
summarise(
mean_age = weighted.mean(age, perwt, na.rm = TRUE),
mean_married_cohab = weighted.mean(married_cohab, perwt, na.rm = TRUE),
mean_english_speaker = weighted.mean(english_speaker, perwt, na.rm = TRUE),
mean_is_citizen = weighted.mean(is_citizen, perwt, na.rm = TRUE),
mean_age_at_immigration = weighted.mean(age_at_immigration, perwt, na.rm = TRUE),
mean_years_in_us = weighted.mean(years_in_us, perwt, na.rm = TRUE),
mean_less_than_primary_completed = weighted.mean(less_than_primary_completed, perwt, na.rm = TRUE),
mean_primary_completed = weighted.mean(primary_completed, perwt, na.rm = TRUE),
mean_secondary_completed = weighted.mean(secondary_completed, perwt, na.rm = TRUE),
mean_university_completed = weighted.mean(university_completed, perwt, na.rm = TRUE)
) %>%
pivot_longer(cols = -race_native_category, names_to = "variable", values_to = "value") %>%
pivot_wider(names_from = race_native_category, values_from = value) %>%
mutate(variable = variable %>%
recode(!!!variable_labels))
}
table_sex_1 <- create_table_for_race(1)
table_sex_2 <- create_table_for_race(2)
combined_table <- bind_rows(
table_sex_2, #females first
table_sex_1 #males second
)
combined_table <- combined_table %>%
mutate(across(where(is.numeric), round, digits = 2)) %>%
mutate(across(everything(), ~ as.character(.))) %>%
mutate(across(everything(), ~ ifelse(. == "NaN", "-", .))) %>%
mutate(across(everything(), ~ ifelse(. == "0", "-", .))) %>%
mutate(across(everything(), ~ ifelse(. == "1", "-", .))) %>%
mutate(Gender = ifelse(row_number() == 1, "Women",
ifelse(row_number() == 11, "Men", ""))) %>%
select(Gender, everything()) %>%
rename(Demographics = variable)
print(combined_table)
table3_code <- xtable(combined_table, caption = "Summary Statistics by Country and Sex",
align = "ll|l|p{1.5cm}p{1.5cm}p{1.5cm}p{1.5cm}p{1.5cm}p{1.5cm}p{1.5cm}",
label = "table3")
sink("/Users/chrissoria/Documents/Research/us_international_ses/tables/r_tables/table3.tex")
print(table3_code, type = "latex",
caption.placement = "top",
size = "\\small",
include.rownames = FALSE)
sink()
table(in_df$year)
table(in_df$year, in_df$country)
